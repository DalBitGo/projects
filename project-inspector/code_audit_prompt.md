# [V2] AI를 활용한 코드 품질 감사 및 리팩토링 프롬프트

## 목적

이 프롬프트는 AI 소프트웨어 엔지니어에게 프로젝트 코드베이스에 대한 심층적인 품질 감사를 요청하고, 발견된 문제점을 **사용자의 확인을 거쳐** 안전하게 개선하기 위해 만들어졌습니다. 코드의 유지보수성, 성능, 안정성, 보안을 향상시키는 것을 목표로 합니다.

--- 

## 프롬프트 (아래 내용을 복사하여 사용하세요)

**당신은 최고의 AI 소프트웨어 엔지니어입니다.** 지금부터 제가 제공하는 프로젝트 코드베이스에 대한 심층 분석 및 리팩토링을 시작하겠습니다. 각 단계를 순서대로 수행하고, 사용자의 승인을 받은 후 다음 단계를 진행해 주세요.

### 0단계: 컨텍스트 입력

*   **프로젝트 절대 경로:** `<여기에 분석할 프로젝트의 절대 경로를 입력하세요>`
*   **분석할 핵심 파일 목록:**
    *   `<여기에 분석하고 싶은 핵심 파일 경로를 나열하세요>`
    *   `<예: src/main.py>`
    *   `<예: app/services/UserService.java>`
*   **(선택) 프로젝트 기술 스택 및 프레임워크:** `<사용 중인 주요 프레임워크나 라이브러리를 알려주시면 더 정확한 분석이 가능합니다. 예: Spring Boot, React, Django>`

### 1단계: 프로젝트 전체 구조 파악 및 계획 수립

먼저, 프로젝트의 전반적인 목적,  기술 스택, 아키텍처를 이해해야 합니다. `README.md`, `package.json`, `requirements.txt` 등 주요 설정 파일을 참고하여 프로젝트의 큰 그림을 분석하고 요약해 주세요.

그 다음, 위에서 지정된 핵심 파일들을 어떻게 분석하고 개선할지에 대한 **실행 계획**을 구체적으로 수립하여 저에게 먼저 제안해 주세요. **제가 계획을 승인하기 전까지 실제 코드 변경은 시작하지 마세요.**

### 2단계: 심층 분석 및 개선안 제안 (사용자 승인 후 진행)

제 허락을 받으면, 계획에 따라 핵심 파일들을 정밀 분석합니다. 아래 체크리스트를 기준으로 문제점을 진단하고, 발견한 사항들을 **중요도(`치명적`, `권장`, `개선 제안`)** 순으로 정렬하여 보고해 주세요.

**코드 분석 체크리스트:**

1.  **테스트 커버리지:**
    -   핵심 로직에 대한 테스트 코드가 존재하나요? 없다면 테스트 코드 작성을 제안해 주세요.
    -   리팩토링 전후로 실행할 수 있는 테스트 명령어를 확인해 주세요.

2.  **유지보수성 및 가독성:**
    -   하드코딩된 값(magic numbers, strings)이 있나요? (있다면, 상수로 분리 제안)
    -   하나의 함수나 클래스가 너무 많은 일을 하고 있나요? (단일 책임 원칙 위배)
    -   코드가 불필요하게 복잡하고 이해하기 어려운 부분이 있나요?
    -   중복된 코드가 여러 곳에 산재해 있나요? (있다면, 함수나 클래스로 추출 제안)

3.  **확장성 및 유연성:**
    -   새로운 기능을 추가하기 어려운 경직된 구조인가요? (예: 끝없는 `if/elif` 문)
    -   디자인 패턴(예: 전략 패턴, 팩토리 패턴)을 적용하여 개선할 수 있는 부분이 있나요?

4.  **성능 및 효율성:**
    -   비효율적인 알고리즘이나 루프 구조가 있나요?
    -   대용량 데이터 처리 시 잠재적인 병목 현상이 발생할 수 있는 곳이 있나요?

5.  **안정성 및 보안:**
    -   예외 처리가 미흡하거나, 너무 광범위한 `try-except` 블록을 사용하나요?
    -   오류 발생 시 사용자에게 지나치게 상세한 내부 정보(예: 스택 트레이스)를 노출하나요?
    -   경로 조작(Path Traversal) 등 잠재적인 보안 취약점이 있나요?

각 파일 분석 후, **문제점**, **중요도**, **해결책(개선 코드 제안)**을 명확히 제시하고, 어떤 변경을 적용할지 다시 한 번 저의 승인을 받아주세요.

### 3단계: 제안된 내용 실행 및 검증 (사용자 승인 후 진행)

승인된 개선안들을 코드에 실제로 적용해 주세요. `replace` 또는 `write_file` 도구를 사용하여 코드를 수정합니다.

**코드 변경 후, 1단계에서 파악한 테스트 명령어를 실행하여 기존 기능이 올바르게 동작하는지 반드시 검증해 주세요.**

### 4단계: 최종 문서화

모든 개선 및 검증 작업이 완료되면, 변경된 사항들을 반영하여 기술 문서를 업데이트하거나 새로 작성해 주세요. 어떤 부분이 왜, 어떻게 개선되었는지 다른 개발자들이 쉽게 이해할 수 있도록 명확하게 기록합니다.
