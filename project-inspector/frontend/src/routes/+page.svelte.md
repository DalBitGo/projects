# `+page.svelte` 파일 분석

## 1. 파일의 핵심 역할

이 파일은 **Project Inspector 애플리케이션의 전체 사용자 인터페이스(UI)이자 유일한 페이지**입니다. 사용자는 이 화면을 통해 백엔드가 제공하는 모든 기능을 이용할 수 있습니다. SvelteKit 프레임워크의 라우팅 규칙에 따라, 이 파일은 웹사이트의 기본 경로(`/`)에 해당하는 내용을 정의합니다.

- **해결하려는 문제**: 백엔드에 구현된 복잡한 분석 기능들을 사용자가 쉽게 사용할 수 있도록 직관적인 그래픽 인터페이스(GUI)를 제공합니다. 사용자가 커맨드 라인에 익숙하지 않더라도, 텍스트 입력과 버튼 클릭만으로 프로젝트 분석을 수행할 수 있게 해줍니다.

## 2. 주요 구성 요소

파일은 크게 세 부분으로 나뉩니다.

### 가. `<script>` 블록: 페이지의 모든 로직 담당

- **상태 변수 (State)**: `projectPath`, `taskType`, `resultText`, `isLoading` 등 페이지의 현재 상태를 저장하는 변수들을 정의합니다. Svelte의 반응성(Reactivity) 덕분에 이 변수들의 값이 바뀌면 화면이 자동으로 업데이트됩니다.
- **이벤트 핸들러**: `processProject()`, `clearResults()` 등 사용자의 행동(버튼 클릭 등)에 반응하는 함수들을 정의합니다.
- **`processProject()` 함수**: 사용자가 '실행' 버튼을 눌렀을 때 호출되는 가장 중요한 함수입니다.
    1.  `isLoading` 상태를 `true`로 바꿔 화면에 로딩 중임을 표시합니다.
    2.  사용자가 입력한 `projectPath`, `taskType` 등의 상태 변수를 조합하여 백엔드 API가 요구하는 JSON 형식의 요청 본문(`body`)을 만듭니다.
    3.  JavaScript의 `fetch` API를 사용하여 백엔드(`http://localhost:8000/api/process`)에 POST 요청을 보냅니다.
    4.  백엔드로부터 응답을 받으면, 성공 여부에 따라 `resultText`에 분석 결과를 표시하거나 `errorMessage`에 오류 메시지를 표시합니다.
    5.  모든 과정이 끝나면 `isLoading` 상태를 다시 `false`로 바꿉니다.
- **실시간 경로 변환**: `$`로 시작하는 Svelte의 반응성 구문(`$:`)을 사용하여, 사용자가 `projectPath`를 입력할 때마다 해당 경로가 Windows 경로인지 실시간으로 감지하고, 맞을 경우 WSL 경로로 변환된 미리보기를 `infoMessage`에 표시해주는 사용자 친화적인 기능을 구현했습니다.

### 나. `<style>` 블록: 페이지의 디자인 담당

- 페이지의 모든 시각적 요소(레이아웃, 색상, 폰트, 버튼 모양 등)에 대한 CSS 스타일을 정의합니다. Svelte는 기본적으로 이 스타일을 해당 컴포넌트 내에서만 적용되도록 격리시켜주므로, 다른 컴포넌트와의 스타일 충돌을 방지합니다.

### 다. HTML 마크업 블록: 페이지의 구조 담당

- `<h1>`, `input`, `select`, `button`, `textarea` 등의 HTML 태그를 사용하여 페이지의 뼈대를 구성합니다.
- Svelte의 템플릿 문법(`{#if ...}`, `bind:value` 등)을 사용하여 스크립트 블록의 상태 변수와 화면 요소를 연결합니다.
    - `bind:value={projectPath}`: `input` 태그의 값을 `projectPath` 변수와 양방향으로 묶습니다. 사용자가 입력하면 변수가 바뀌고, 변수가 바뀌면 입력창의 값도 바뀝니다.
    - `{#if isLoading} ... {/if}`: `isLoading` 변수가 `true`일 때만 로딩 메시지를 화면에 보여줍니다.

## 3. 다른 파일과의 연관성

- **`backend/app/main.py`**: 이 파일의 `/api/process` 엔드포인트를 직접 호출하는 유일한 클라이언트입니다. 이 파일이 없다면 백엔드는 아무런 요청도 받지 못합니다.

## 4. 종합 평가

`+page.svelte`는 Svelte의 핵심 기능(반응성, 바인딩, 조건부 렌더링 등)을 효과적으로 사용하여, 복잡할 수 있는 분석 요청 과정을 매우 직관적이고 사용자 친화적인 UI로 잘 풀어냈습니다. 특히 실시간 경로 변환 미리보기와 같이 사용자를 배려한 디테일이 돋보입니다. 현재는 모든 기능이 한 파일에 있지만, 향후 기능이 더 추가된다면 `ControlPanel`, `ResultView` 등의 작은 컴포넌트로 분리하여 관리하는 것을 고려해볼 수 있습니다.
